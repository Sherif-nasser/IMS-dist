"use strict";(self.webpackChunkITSP=self.webpackChunkITSP||[]).push([[973],{2135:(x,b,i)=>{i.d(b,{u:()=>_});var n=i(5879);let _=(()=>{class t{transform(C,u){return C?u?(u=u.toLowerCase(),C.filter(a=>{const f=a.full_name?a.full_name.toLowerCase():"",P=a.last_name?a.last_name.toLowerCase():"",d=a.title?a.title.toLowerCase():"",m=a.name?a.name.toLowerCase():"",p=a.user&&a.user.name?a.user.name.toLowerCase():"",h=a.head?a.head.toLowerCase():"",y=a.description?a.description.toLowerCase():"";return f.includes(u)||P.includes(u)||m.includes(u)||p.includes(u)||h.includes(u)||y.includes(u)||d.includes(u)})):C:[]}static#t=this.\u0275fac=function(u){return new(u||t)};static#e=this.\u0275pipe=n.Yjl({name:"filter",type:t,pure:!0,standalone:!0})}return t})()},3184:(x,b,i)=>{i.r(b),i.d(b,{default:()=>Z});var n=i(6814),_=i(846),t=i(5879);let s=(()=>{class c{static#t=this.\u0275fac=function(e){return new(e||c)};static#e=this.\u0275cmp=t.Xpm({type:c,selectors:[["app-main-job-cat"]],standalone:!0,features:[t.jDz],decls:1,vars:0,template:function(e,r){1&e&&t._UZ(0,"router-outlet")},dependencies:[n.ez,_.lC]})}return c})();var C=i(8733),u=i(8034),a=i(6223),f=i(1818),P=i(2135),d=i(7700),m=i(4286),p=i(9862),h=i(553),y=i(6996);let T=(()=>{class c{constructor(o,e){this.http=o,this.navService=e,this.jobCategoryListUrl=`${h.N.elitersUrl}categories`,this.jobCategoryUpdateUrl=`${h.N.elitersUrl}category/update`,this.showCategoryUrl=`${h.N.elitersUrl}category/show`,this.jobCategoryDeleteUrl=`${h.N.elitersUrl}category/delete`,this.jobCategoryAddUrl=`${h.N.elitersUrl}category/create`}initializeNavItems(){this.navService.setNavItems([{name:"\u0639\u0631\u0636 \u0627\u0646\u0648\u0627\u0639 \u0627\u0644\u0648\u0638\u0627\u0626\u0641",routerLink:"/dashboard/jobCategories"},{name:"\u0625\u0636\u0627\u0641\u0629 \u0646\u0648\u0639 \u0648\u0638\u064a\u0641\u064a",routerLink:"/dashboard/jobCategories/add-category"}])}getjobCategoryList(o){let e=new p.LE;return o&&Object.keys(o).forEach(r=>{e=e.append(r,o[r])}),this.http.get(this.jobCategoryListUrl,{params:e})}GetjobCategoryById(o){let e=new p.LE;return o&&Object.keys(o).forEach(r=>{e=e.append(r,o[r])}),this.http.get(this.showCategoryUrl,{params:e})}AddjobCategory(o,e){let r=new p.LE;e&&Object.keys(e).forEach(l=>{r=r.append(l,e[l])});const g=new FormData;return Object.keys(o).forEach(l=>{Array.isArray(o[l])?o[l].forEach((M,v)=>{g.append(`${l}[${v}]`,M)}):g.append(l,o[l])}),this.http.post(this.jobCategoryAddUrl,g,{params:r})}UpdatejobCategory(o,e,r){const g=this.jobCategoryUpdateUrl;let l=new p.LE;r&&Object.keys(r).forEach(v=>{l=l.append(v,r[v])});const M=new FormData;return Object.keys(e).forEach(v=>{Array.isArray(e[v])?e[v].forEach((D,J)=>{M.append(`${v}[${J}]`,D)}):M.append(v,e[v])}),this.http.post(g,M,{params:l})}DeletejobCategory(o){return this.http.post(this.jobCategoryDeleteUrl,{category_id:o})}static#t=this.\u0275fac=function(e){return new(e||c)(t.LFG(p.eN),t.LFG(y.f))};static#e=this.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();const L=function(c,O){return[c,O]};function j(c,O){if(1&c){const o=t.EpF();t.TgZ(0,"div",12)(1,"div",13)(2,"div",14)(3,"div",15)(4,"div",16),t.NdJ("click",function(){const g=t.CHM(o).$implicit,l=t.oxw();return t.KtG(l.viewCategory(g))}),t.TgZ(5,"a",17)(6,"h5",18),t._uU(7),t.qZA()()(),t.TgZ(8,"div",19)(9,"a",20),t.ALo(10,"localize"),t._uU(11,"\u062a\u0639\u062f\u064a\u0644"),t.qZA(),t.TgZ(12,"button",21),t.NdJ("click",function(){const g=t.CHM(o).$implicit,l=t.oxw();return t.KtG(l.deleteCategory(g.id,g.name))}),t._uU(13," \u062d\u0630\u0641 "),t.qZA()()()()()()}if(2&c){const o=O.$implicit;t.xp6(7),t.hij(" ",o.name," "),t.xp6(2),t.Q6J("routerLink",t.WLB(4,L,t.lcZ(10,2,"/dashboard/jobCategories/add-category"),o.id))}}function F(c,O){1&c&&(t.TgZ(0,"div",22)(1,"p"),t._uU(2,"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a"),t.qZA()())}let E=(()=>{class c{constructor(o,e,r,g,l){this.router=o,this.localize=e,this.dialog=r,this._MessagesService=g,this.jobCatService=l,this.loading=!1,this.categorisList=[],this.searchQuery=""}ngOnInit(){this.getCategoriesList(),this.prepareNavItems()}prepareNavItems(){this.jobCatService.initializeNavItems()}getCategoriesList(o=1){this.loading=!0,this.jobCatService.getjobCategoryList({page:o}).subscribe({next:e=>{this.currentPage=e.pagination.current_page,this.totalPages=e.pagination.last_page,this.categorisList=e.data,this.loading=!1}})}deleteCategory(o,e){this.dialog.open(u.$,{width:"500px",data:{title:"\u062a\u0627\u0643\u064a\u062f \u0627\u0644\u062d\u0630\u0641",message:`\u061f ${e} \u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641  `}}).afterClosed().subscribe(g=>{g&&this.jobCatService.DeletejobCategory(o.toString()).subscribe({next:l=>{this.getCategoriesList()},error:l=>{console.error("There was an error deleting the category!",l)}})})}viewCategory(o){}onPageChange(o){this.getCategoriesList(o)}static#t=this.\u0275fac=function(e){return new(e||c)(t.Y36(_.F0),t.Y36(C.An),t.Y36(d.uw),t.Y36(m.K),t.Y36(T))};static#e=this.\u0275cmp=t.Xpm({type:c,selectors:[["app-job-cat-list"]],standalone:!0,features:[t.jDz],decls:16,vars:11,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","tabs","px-0"],[1,"mb-2","filterForm"],[1,"col-lg-4","mb-6","mb-lg-2","mb-2"],[1,"input-group"],[1,"btn"],[1,"fa-solid","fa-magnifying-glass"],["type","search","name","search","id","search",1,"form-control",3,"ngModel","ngModelChange"],["class","col-md-6 mb-2",4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],[3,"currentPage","totalPages","pageChange"],[1,"col-md-6","mb-2"],[1,"card","mb-3","border-0"],[1,"card-body"],[1,"row","mb-2"],[1,"col-xl-7","col-md-8","order-md-1","order-2",2,"cursor","pointer",3,"click"],[1,"text-reset","text-decoration-none"],[1,"card-title"],[1,"col-xl-5","col-md-4","order-md-2","order-1","mb-md-0","mb-2","text-end"],[1,"btn","px-4","mx-1","edit",3,"routerLink"],[1,"btn","delete","px-4",3,"click"],[1,"text-center"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"button",6),t._UZ(8,"i",7),t.qZA(),t.TgZ(9,"input",8),t.NdJ("ngModelChange",function(l){return r.searchQuery=l}),t.qZA()()()()(),t.TgZ(10,"div",1),t.YNc(11,j,14,7,"div",9),t.ALo(12,"filter"),t.YNc(13,F,3,0,"div",10),t.ALo(14,"filter"),t.qZA(),t.TgZ(15,"pagination",11),t.NdJ("pageChange",function(l){return r.onPageChange(l)}),t.qZA()()()()),2&e&&(t.xp6(9),t.Q6J("ngModel",r.searchQuery),t.xp6(2),t.Q6J("ngForOf",t.xi3(12,5,r.categorisList,r.searchQuery)),t.xp6(2),t.Q6J("ngIf",0===t.xi3(14,8,r.categorisList,r.searchQuery).length&&!r.loading),t.xp6(2),t.Q6J("currentPage",r.currentPage)("totalPages",r.totalPages))},dependencies:[n.ez,n.sg,n.O5,a.u5,a._Y,a.Fj,a.JJ,a.JL,a.On,a.F,_.rH,f.Q,P.u,C.fQ,C.lO],styles:[".tabs[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:0 3px 6px #0000001a;color:var(--dashboard1)}button.delete[_ngcontent-%COMP%]{background-color:var(--danger);color:#fff}a.show[_ngcontent-%COMP%]{background-color:var(--main);color:#fff}a.edit[_ngcontent-%COMP%]{background-color:var(--stroke-color2);color:var(--main)}.filterForm[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{border:1px solid var(--dashboard2);border-radius:8px}.filterForm[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--main)}.filterForm[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .filterForm[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus-visible, .filterForm[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus, .filterForm[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus-visible{box-shadow:none;outline:none}.filterForm[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{color:var(--main)}.filterForm[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#115a8b86}.filterForm[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border-color:var(--dashboard2);color:var(--dashboard1);background-image:url(chevron-Down.243768823842f8ab.svg);background-size:30px 100%;background-position:left 0px}"]})}return c})();function U(c,O){if(1&c&&(t.ynx(0),t.TgZ(1,"div",6)(2,"button",11),t._uU(3," \u0625\u0636\u0627\u0641\u0629 "),t.qZA()(),t.BQk()),2&c){const o=t.oxw();t.xp6(2),t.Q6J("disabled",!o.catForm.valid)}}function I(c,O){if(1&c){const o=t.EpF();t.TgZ(0,"div",6)(1,"button",12),t.NdJ("click",function(){t.CHM(o);const r=t.oxw();return t.KtG(r.updateCategories())}),t._uU(2," \u062a\u0639\u062f\u064a\u0644 "),t.qZA()()}if(2&c){const o=t.oxw();t.xp6(1),t.Q6J("disabled",!o.catForm.valid)}}let A=(()=>{class c{constructor(o,e,r,g,l,M){this.jobCatService=o,this.localize=e,this.router=r,this.activatedRoute=g,this._MessagesService=l,this.fb=M,this.isEditMode=!1,this.catId="",this.previewUrl=null,this.catForm=this.fb.group({name:["",a.kI.required]})}ngOnInit(){this.jobCatService.initializeNavItems(),this.activatedRoute.paramMap.subscribe(o=>{const e=o.get("id");e&&(this.catId=e,this.isEditMode=!0,this.jobCatService.GetjobCategoryById({category_id:this.catId}).subscribe(g=>{g&&g.data&&this.setFormValues(g.data)}))})}setFormValues(o){this.catForm.controls.name.setValue(o.name)}get f(){return this.catForm.controls}navigateToCatsList(){const o=this.localize.translateRoute("/dashboard/jobCategories");this.router.navigate([o])}updateCategories(){this.catForm.valid&&this.jobCatService.UpdatejobCategory(this.catId,{name:this.catForm.controls.name.value,category_id:this.catId}).subscribe({next:e=>{this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u062a\u062d\u062f\u064a\u062b",3e3),this.navigateToCatsList()},error:e=>{console.error("Failed to edit cat:",e)}})}onSubmit(){this.catForm.valid&&(console.log(this.catForm),this.jobCatService.AddjobCategory({name:this.catForm.controls.name.value}).subscribe({next:e=>{console.log("Cat added successfully:",e),this.navigateToCatsList(),this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u0625\u0636\u0627\u0641\u0629",3e3)},error:e=>{console.error("Failed to add Cat:",e)}}))}static#t=this.\u0275fac=function(e){return new(e||c)(t.Y36(T),t.Y36(C.An),t.Y36(_.F0),t.Y36(_.gz),t.Y36(m.K),t.Y36(a.qu))};static#e=this.\u0275cmp=t.Xpm({type:c,selectors:[["app-add-job-cat"]],standalone:!0,features:[t.jDz],decls:14,vars:3,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","tabs","px-0"],["id","pills-tabContent",1,"tab-content","p-3"],["id","addFaq","role","tabpanel","aria-labelledby","addFaq-tab","tabindex","0",1,""],[3,"formGroup","ngSubmit"],[1,"form-group","col-12","mb-3"],["for","name",1,"form-label"],["type","text","name","name","id","addCategoryName","formControlName","name",1,"form-control"],[4,"ngIf","ngIfElse"],["editButton",""],["type","submit",1,"btn","px-5",3,"disabled"],["type","button",1,"btn","px-5",3,"disabled","click"]],template:function(e,r){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"form",5),t.NdJ("ngSubmit",function(){return r.onSubmit()}),t.TgZ(6,"div",1)(7,"div",6)(8,"label",7),t._uU(9,"\u0625\u0633\u0645 \u0627\u0644\u0642\u0633\u0645 \u0627\u0644\u0648\u0638\u064a\u0641\u064a"),t.qZA(),t._UZ(10,"input",8),t.qZA()(),t.YNc(11,U,4,1,"ng-container",9),t.YNc(12,I,3,1,"ng-template",null,10,t.W1O),t.qZA()()()()()()),2&e){const g=t.MAs(13);t.xp6(5),t.Q6J("formGroup",r.catForm),t.xp6(6),t.Q6J("ngIf",!r.isEditMode)("ngIfElse",g)}},dependencies:[n.ez,n.O5,a.u5,a._Y,a.Fj,a.JJ,a.JL,a.UX,a.sg,a.u],styles:[".tab-content[_ngcontent-%COMP%]{border-radius:4px}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--dashboard1)}form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus-visible, form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus, form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus-visible{box-shadow:none;outline:none}form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-color:var(--main);color:#115a8b}form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#115a8b86}form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border-color:var(--main);color:var(--dashboard1);background-image:url(chevron-Down.243768823842f8ab.svg);background-size:30px 100%;background-position:left 0px}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:var(--main);color:#fff}form[_ngcontent-%COMP%]   .input-group-vertical[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%] + .input-group-text[_ngcontent-%COMP%]{color:var(--dashboard1);background-color:transparent;border:none}"]})}return c})();const Z=[{path:"",component:s,children:[{path:"",component:E},{path:"add-category",component:A},{path:"add-category/:id",component:A}]}]},8034:(x,b,i)=>{i.d(b,{$:()=>u});var n=i(6814),_=i(7700),t=i(2296),s=i(5879),C=i(4286);let u=(()=>{class a{constructor(P,d,m){this.dialogRef=P,this.data=d,this._MessagesService=m}onConfirmClick(){this.dialogRef.close(!0),this._MessagesService.showSuccessMessage("Done",3e3)}onCancelClick(){this.dialogRef.close(!1)}static#t=this.\u0275fac=function(d){return new(d||a)(s.Y36(_.so),s.Y36(_.WI),s.Y36(C.K))};static#e=this.\u0275cmp=s.Xpm({type:a,selectors:[["app-confirm-dialog"]],standalone:!0,features:[s.jDz],decls:10,vars:2,consts:[[1,"text-center"],["mat-dialog-title","",1,"text-center"],[1,"m-auto"],["mat-button","",3,"click"],["mat-button","","olor","primary",2,"color","red",3,"click"]],template:function(d,m){1&d&&(s.TgZ(0,"div",0)(1,"h2",1),s._uU(2),s.qZA(),s.TgZ(3,"mat-dialog-content"),s._uU(4),s.qZA(),s.TgZ(5,"mat-dialog-actions",2)(6,"button",3),s.NdJ("click",function(){return m.onCancelClick()}),s._uU(7,"\u0627\u0644\u063a\u0627\u0621"),s.qZA(),s.TgZ(8,"button",4),s.NdJ("click",function(){return m.onConfirmClick()}),s._uU(9," \u062a\u0627\u0643\u064a\u062f "),s.qZA()()()),2&d&&(s.xp6(2),s.Oqu(m.data.title),s.xp6(2),s.Oqu(m.data.message))},dependencies:[n.ez,_.Is,_.uh,_.xY,_.H8,t.ot,t.lW],styles:["mat-dialog-content[_ngcontent-%COMP%]{font-size:16px;margin-bottom:20px}mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:center}mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}"]})}return a})()},6996:(x,b,i)=>{i.d(b,{f:()=>t});var n=i(5619),_=i(5879);let t=(()=>{class s{constructor(){this.navItemsSubject=new n.X([]),this.navItems$=this.navItemsSubject.asObservable()}setNavItems(u){this.navItemsSubject.next(u)}static#t=this.\u0275fac=function(a){return new(a||s)};static#e=this.\u0275prov=_.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})()},1818:(x,b,i)=>{i.d(b,{Q:()=>a});var n=i(5879),_=i(6223),t=i(6814);function s(f,P){if(1&f){const d=n.EpF();n.TgZ(0,"li",2)(1,"a",7),n.NdJ("click",function(){const h=n.CHM(d).index,y=n.oxw();return n.KtG(y.navigateTo(h+1))}),n._uU(2),n.qZA()()}if(2&f){const d=P.index,m=n.oxw();n.ekj("active",m.currentPage===d+1),n.xp6(2),n.Oqu(d+1)}}const C=function(){return[]},u={provide:_.JU,useExisting:(0,n.Gpc)(()=>a),multi:!0};let a=(()=>{class f{constructor(){this.pageChange=new n.vpe}navigateTo(d){this.pageChange.emit(d),this.scrollToTop()}ngOnInit(){}scrollToTop(){window.scroll({top:0,left:0,behavior:"smooth"})}static#t=this.\u0275fac=function(m){return new(m||f)};static#e=this.\u0275cmp=n.Xpm({type:f,selectors:[["pagination"]],inputs:{currentPage:"currentPage",totalPages:"totalPages"},outputs:{pageChange:"pageChange"},standalone:!0,features:[n._Bn([u]),n.jDz],decls:11,vars:6,consts:[["aria-label","Page navigation"],[1,"pagination","justify-content-center"],[1,"page-item","mx-2"],["aria-label","Previous",1,"page-link",3,"click"],["aria-hidden","true"],["class","page-item mx-2",3,"active",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],[1,"page-link",3,"click"]],template:function(m,p){1&m&&(n.TgZ(0,"nav",0)(1,"ul",1)(2,"li",2)(3,"a",3),n.NdJ("click",function(){return p.navigateTo(p.currentPage-1)}),n.TgZ(4,"span",4),n._uU(5,"\xab"),n.qZA()()(),n.YNc(6,s,3,3,"li",5),n.TgZ(7,"li",2)(8,"a",6),n.NdJ("click",function(){return p.navigateTo(p.currentPage+1)}),n.TgZ(9,"span",4),n._uU(10,"\xbb"),n.qZA()()()()()),2&m&&(n.xp6(2),n.ekj("disabled",1===p.currentPage),n.xp6(4),n.Q6J("ngForOf",n.DdM(5,C).constructor(p.totalPages)),n.xp6(1),n.ekj("disabled",p.currentPage===p.totalPages))},dependencies:[t.ez,t.sg],styles:[".pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]{cursor:pointer}"]})}return f})()}}]);