"use strict";(self.webpackChunkITSP=self.webpackChunkITSP||[]).push([[298],{2135:(S,C,a)=>{a.d(C,{u:()=>r});var o=a(5879);let r=(()=>{class t{transform(_,g){return _?g?(g=g.toLowerCase(),_.filter(c=>{const h=c.full_name?c.full_name.toLowerCase():"",v=c.last_name?c.last_name.toLowerCase():"",m=c.title?c.title.toLowerCase():"",p=c.name?c.name.toLowerCase():"",f=c.user&&c.user.name?c.user.name.toLowerCase():"",P=c.head?c.head.toLowerCase():"",M=c.description?c.description.toLowerCase():"";return h.includes(g)||v.includes(g)||p.includes(g)||f.includes(g)||P.includes(g)||M.includes(g)||m.includes(g)})):_:[]}static#t=this.\u0275fac=function(g){return new(g||t)};static#e=this.\u0275pipe=o.Yjl({name:"filter",type:t,pure:!0,standalone:!0})}return t})()},5298:(S,C,a)=>{a.r(C),a.d(C,{default:()=>I});var o=a(6814),r=a(6223),t=a(5879),s=a(9862),_=a(553),g=a(6996);let c=(()=>{class l{constructor(n,e){this.http=n,this.navService=e,this.skillsListUrl=`${_.N.elitersUrl}skills`,this.createSkillUrl=`${_.N.elitersUrl}skill/create`,this.showSkillUrl=`${_.N.elitersUrl}skill/show`,this.updateSkillUrl=`${_.N.elitersUrl}skill/update`,this.deleteSkillUrl=`${_.N.elitersUrl}skill/delete`}initializeNavItems(){this.navService.setNavItems([{name:"\u0639\u0631\u0636 \u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u0647\u0627\u0631\u0627\u062a",routerLink:"/dashboard/skills"},{name:"\u0625\u0636\u0627\u0641\u0629 \u0645\u0647\u0627\u0631\u0629",routerLink:"/dashboard/skills/add"}])}GetSkillsList(n){let e=new s.LE;return n&&Object.keys(n).forEach(i=>{e=e.append(i,n[i])}),this.http.get(this.skillsListUrl,{params:e})}GetSkillById(n){let e=new s.LE;return n&&Object.keys(n).forEach(i=>{e=e.append(i,n[i])}),this.http.get(this.showSkillUrl,{params:e})}AddSkill(n,e){let i=new s.LE;e&&Object.keys(e).forEach(u=>{i=i.append(u,e[u])});const d=new FormData;return Object.keys(n).forEach(u=>{d.append(u,n[u])}),this.http.post(this.createSkillUrl,d,{params:i})}UpdateSkill(n,e,i){const d=this.updateSkillUrl;let u=new s.LE;i&&Object.keys(i).forEach(k=>{u=u.append(k,i[k])});const b=new FormData;return Object.keys(e).forEach(k=>{b.append(k,e[k])}),this.http.post(d,b,{params:u})}DeleteSkill(n,e,i){const d=this.deleteSkillUrl;let u=new s.LE;i&&Object.keys(i).forEach(k=>{u=u.append(k,i[k])});const b=new FormData;return Object.keys(e).forEach(k=>{b.append(k,e[k])}),this.http.post(d,b,{params:u})}static#t=this.\u0275fac=function(e){return new(e||l)(t.LFG(s.eN),t.LFG(g.f))};static#e=this.\u0275prov=t.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();var h=a(8733),v=a(846),m=a(4286);function p(l,O){if(1&l&&(t.ynx(0),t.TgZ(1,"div",6)(2,"button",11),t._uU(3," \u0625\u0636\u0627\u0641\u0629 \u0645\u0647\u0627\u0631\u0629 "),t.qZA()(),t.BQk()),2&l){const n=t.oxw();t.xp6(2),t.Q6J("disabled",!n.skillForm.valid)}}function f(l,O){if(1&l){const n=t.EpF();t.TgZ(0,"div",6)(1,"button",12),t.NdJ("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.updateSkill())}),t._uU(2," \u062a\u0639\u062f\u064a\u0644 "),t.qZA()()}if(2&l){const n=t.oxw();t.xp6(1),t.Q6J("disabled",!n.skillForm.valid)}}let P=(()=>{class l{constructor(n,e,i,d,u,b){this.skillsService=n,this.localize=e,this.router=i,this.activatedRoute=d,this._MessagesService=u,this.fb=b,this.isEditMode=!1,this.skillId="",this.skillForm=this.fb.group({name:["",r.kI.required]})}ngOnInit(){this.activatedRoute.paramMap.subscribe(n=>{const e=n.get("id");e&&(this.skillId=e,this.isEditMode=!0,this.skillsService.GetSkillById({skill_id:e}).subscribe(d=>{d&&d.data&&this.setFormValues(d.data)}))}),this.prepareNavItems()}prepareNavItems(){this.skillsService.initializeNavItems()}setFormValues(n){this.skillForm.controls.name.setValue(n.name),console.log(this.skillForm.controls.name.value)}get f(){return this.skillForm.controls}navigateToSkillsList(){const n=this.localize.translateRoute("/dashboard/skills");this.router.navigate([n])}updateSkill(){this.skillForm.valid&&this.skillsService.UpdateSkill(this.skillId,{skill_id:this.skillId,name:this.skillForm.controls.name.value}).subscribe({next:e=>{this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u062a\u062d\u062f\u064a\u062b",3e3),this.navigateToSkillsList()},error:e=>{console.error("Failed to edit skill:",e)}})}onSubmit(){this.skillForm.valid&&this.skillsService.AddSkill({name:this.skillForm.controls.name.value}).subscribe({next:e=>{console.log("Skill added successfully:",e),this.navigateToSkillsList(),this._MessagesService.showSuccessMessage("\u062a\u0645 \u0627\u0644\u0625\u0636\u0627\u0641\u0629",3e3)},error:e=>{console.error("Failed to add skill:",e)}})}static#t=this.\u0275fac=function(e){return new(e||l)(t.Y36(c),t.Y36(h.An),t.Y36(v.F0),t.Y36(v.gz),t.Y36(m.K),t.Y36(r.qu))};static#e=this.\u0275cmp=t.Xpm({type:l,selectors:[["app-add-skill"]],standalone:!0,features:[t.jDz],decls:14,vars:3,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","tabs","px-0"],["id","pills-tabContent",1,"tab-content","p-3"],["id","addSkill","role","tabpanel","aria-labelledby","addSkill-tab","tabindex","0",1,""],[3,"formGroup","ngSubmit"],[1,"form-group","col-12","mb-3"],["for","name",1,"form-label"],["type","text","name","name","id","name","formControlName","name",1,"form-control"],[4,"ngIf","ngIfElse"],["editButton",""],["type","submit",1,"btn","px-5",3,"disabled"],["type","button",1,"btn","px-5",3,"disabled","click"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"form",5),t.NdJ("ngSubmit",function(){return i.onSubmit()}),t.TgZ(6,"div",1)(7,"div",6)(8,"label",7),t._uU(9,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0647\u0627\u0631\u0629"),t.qZA(),t._UZ(10,"input",8),t.qZA()(),t.YNc(11,p,4,1,"ng-container",9),t.YNc(12,f,3,1,"ng-template",null,10,t.W1O),t.qZA()()()()()()),2&e){const d=t.MAs(13);t.xp6(5),t.Q6J("formGroup",i.skillForm),t.xp6(6),t.Q6J("ngIf",!i.isEditMode)("ngIfElse",d)}},dependencies:[o.ez,o.O5,r.u5,r._Y,r.Fj,r.JJ,r.JL,r.UX,r.sg,r.u],styles:[".tab-content[_ngcontent-%COMP%]{border-radius:4px}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--dashboard1)}form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus-visible, form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus, form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus-visible{box-shadow:none;outline:none}form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-color:var(--main);color:#115a8b}form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#115a8b86}form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border-color:var(--main);color:var(--dashboard1);background-image:url(chevron-Down.243768823842f8ab.svg);background-size:30px 100%;background-position:left 0px}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:var(--main);color:#fff}form[_ngcontent-%COMP%]   .input-group-vertical[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%] + .input-group-text[_ngcontent-%COMP%]{color:var(--dashboard1);background-color:transparent;border:none}"]})}return l})(),M=(()=>{class l{static#t=this.\u0275fac=function(e){return new(e||l)};static#e=this.\u0275cmp=t.Xpm({type:l,selectors:[["app-main-skills"]],standalone:!0,features:[t.jDz],decls:1,vars:0,template:function(e,i){1&e&&t._UZ(0,"router-outlet")},dependencies:[o.ez,v.lC]})}return l})();var T=a(8034),x=a(1818),L=a(2135),A=a(7700);const F=function(l,O){return[l,O]};function E(l,O){if(1&l){const n=t.EpF();t.TgZ(0,"div",12)(1,"div",13)(2,"div",14)(3,"div",15)(4,"div",16)(5,"a",17)(6,"h5",18),t._uU(7),t.qZA()()(),t.TgZ(8,"div",19)(9,"a",20),t.ALo(10,"localize"),t._uU(11,"\u062a\u0639\u062f\u064a\u0644"),t.qZA(),t.TgZ(12,"button",21),t.NdJ("click",function(){const d=t.CHM(n).$implicit,u=t.oxw();return t.KtG(u.deleteSkill(d.id,d.name))}),t._uU(13," \u062d\u0630\u0641 "),t.qZA()()()()()()}if(2&l){const n=O.$implicit;t.xp6(7),t.hij(" ",n.name," "),t.xp6(2),t.Q6J("routerLink",t.WLB(4,F,t.lcZ(10,2,"/dashboard/skills/edit"),n.id))}}function U(l,O){1&l&&(t.TgZ(0,"div",22)(1,"p"),t._uU(2,"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a"),t.qZA()())}const I=[{path:"",component:M,children:[{path:"",component:(()=>{class l{constructor(n,e,i,d,u){this.router=n,this.localize=e,this.dialog=i,this._MessagesService=d,this.skillsService=u,this.loading=!1,this.skillsList=[],this.searchQuery=""}ngOnInit(){this.getSkillsList(),this.prepareNavItems()}prepareNavItems(){this.skillsService.initializeNavItems()}getSkillsList(n=1){this.loading=!0,this.skillsService.GetSkillsList({page:n}).subscribe({next:e=>{this.currentPage=e.pagination.current_page,this.totalPages=e.pagination.last_page,this.skillsList=e.data,this.loading=!1,console.log(this.skillsList)},error:e=>{console.error("Failed to fetch skills list:",e),this.loading=!1}})}deleteSkill(n,e){const i={skill_id:n};this.dialog.open(T.$,{width:"500px",data:{title:"\u062a\u0627\u0643\u064a\u062f \u0627\u0644\u062d\u0630\u0641",message:`\u061f ${e} \u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641  `}}).afterClosed().subscribe(u=>{u&&this.skillsService.DeleteSkill(n.toString(),i).subscribe({next:b=>{this.getSkillsList()},error:b=>{console.error("There was an error deleting the skill!",b)}})})}viewSkill(n){if(n){const e=this.localize.translateRoute("/dashboard/skills/view");this.router.navigate([e,n.id])}else console.error("No skill to view")}onPageChange(n){this.getSkillsList(n)}static#t=this.\u0275fac=function(e){return new(e||l)(t.Y36(v.F0),t.Y36(h.An),t.Y36(A.uw),t.Y36(m.K),t.Y36(c))};static#e=this.\u0275cmp=t.Xpm({type:l,selectors:[["app-skills-list"]],standalone:!0,features:[t.jDz],decls:16,vars:11,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","tabs","px-0"],[1,"mb-2","filterForm"],[1,"col-lg-4","col-md-6","mb-lg-2","mb-2"],[1,"input-group"],[1,"btn"],[1,"fa-solid","fa-magnifying-glass"],["type","search","name","search","id","search",1,"form-control",3,"ngModel","ngModelChange"],["class","col-md-6 mb-2",4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],[3,"currentPage","totalPages","pageChange"],[1,"col-md-6","mb-2"],[1,"card","mb-3","border-0"],[1,"card-body"],[1,"row","mb-2"],[1,"col-xl-7","col-md-8","order-md-1","order-2",2,"cursor","pointer"],[1,"text-reset","text-decoration-none"],[1,"card-title"],[1,"col-xl-5","col-md-4","order-md-2","order-1","mb-md-0","mb-2","text-end"],[1,"btn","px-4","mx-1","edit",3,"routerLink"],[1,"btn","delete","px-4",3,"click"],[1,"text-center"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"button",6),t._UZ(8,"i",7),t.qZA(),t.TgZ(9,"input",8),t.NdJ("ngModelChange",function(u){return i.searchQuery=u}),t.qZA()()()()(),t.TgZ(10,"div",1),t.YNc(11,E,14,7,"div",9),t.ALo(12,"filter"),t.YNc(13,U,3,0,"div",10),t.ALo(14,"filter"),t.qZA(),t.TgZ(15,"pagination",11),t.NdJ("pageChange",function(u){return i.onPageChange(u)}),t.qZA()()()()),2&e&&(t.xp6(9),t.Q6J("ngModel",i.searchQuery),t.xp6(2),t.Q6J("ngForOf",t.xi3(12,5,i.skillsList,i.searchQuery)),t.xp6(2),t.Q6J("ngIf",0===t.xi3(14,8,i.skillsList,i.searchQuery).length&&!i.loading),t.xp6(2),t.Q6J("currentPage",i.currentPage)("totalPages",i.totalPages))},dependencies:[o.ez,o.sg,o.O5,r.u5,r._Y,r.Fj,r.JJ,r.JL,r.On,r.F,v.rH,x.Q,L.u,h.fQ,h.lO],styles:[".tabs[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:0 3px 6px #0000001a;color:var(--dashboard1)}button.delete[_ngcontent-%COMP%]{background-color:var(--danger);color:#fff}a.show[_ngcontent-%COMP%]{background-color:var(--main);color:#fff}a.edit[_ngcontent-%COMP%]{background-color:var(--stroke-color2);color:var(--main)}.filterForm[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{border:1px solid var(--dashboard2);border-radius:8px}.filterForm[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--main)}.filterForm[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .filterForm[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus-visible, .filterForm[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus, .filterForm[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus-visible{box-shadow:none;outline:none}.filterForm[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{color:var(--main)}.filterForm[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#115a8b86}.filterForm[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border-color:var(--dashboard2);color:var(--dashboard1);background-image:url(chevron-Down.243768823842f8ab.svg);background-size:30px 100%;background-position:left 0px}"]})}return l})()},{path:"view/:id",component:(()=>{class l{static#t=this.\u0275fac=function(e){return new(e||l)};static#e=this.\u0275cmp=t.Xpm({type:l,selectors:[["app-view-skill"]],standalone:!0,features:[t.jDz],decls:2,vars:0,template:function(e,i){1&e&&(t.TgZ(0,"p"),t._uU(1,"view-skill works!"),t.qZA())},dependencies:[o.ez]})}return l})()},{path:"add",component:P},{path:"edit/:id",component:P}]}]},8034:(S,C,a)=>{a.d(C,{$:()=>g});var o=a(6814),r=a(7700),t=a(2296),s=a(5879),_=a(4286);let g=(()=>{class c{constructor(v,m,p){this.dialogRef=v,this.data=m,this._MessagesService=p}onConfirmClick(){this.dialogRef.close(!0),this._MessagesService.showSuccessMessage("Done",3e3)}onCancelClick(){this.dialogRef.close(!1)}static#t=this.\u0275fac=function(m){return new(m||c)(s.Y36(r.so),s.Y36(r.WI),s.Y36(_.K))};static#e=this.\u0275cmp=s.Xpm({type:c,selectors:[["app-confirm-dialog"]],standalone:!0,features:[s.jDz],decls:10,vars:2,consts:[[1,"text-center"],["mat-dialog-title","",1,"text-center"],[1,"m-auto"],["mat-button","",3,"click"],["mat-button","","olor","primary",2,"color","red",3,"click"]],template:function(m,p){1&m&&(s.TgZ(0,"div",0)(1,"h2",1),s._uU(2),s.qZA(),s.TgZ(3,"mat-dialog-content"),s._uU(4),s.qZA(),s.TgZ(5,"mat-dialog-actions",2)(6,"button",3),s.NdJ("click",function(){return p.onCancelClick()}),s._uU(7,"\u0627\u0644\u063a\u0627\u0621"),s.qZA(),s.TgZ(8,"button",4),s.NdJ("click",function(){return p.onConfirmClick()}),s._uU(9," \u062a\u0627\u0643\u064a\u062f "),s.qZA()()()),2&m&&(s.xp6(2),s.Oqu(p.data.title),s.xp6(2),s.Oqu(p.data.message))},dependencies:[o.ez,r.Is,r.uh,r.xY,r.H8,t.ot,t.lW],styles:["mat-dialog-content[_ngcontent-%COMP%]{font-size:16px;margin-bottom:20px}mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:center}mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}"]})}return c})()},6996:(S,C,a)=>{a.d(C,{f:()=>t});var o=a(5619),r=a(5879);let t=(()=>{class s{constructor(){this.navItemsSubject=new o.X([]),this.navItems$=this.navItemsSubject.asObservable()}setNavItems(g){this.navItemsSubject.next(g)}static#t=this.\u0275fac=function(c){return new(c||s)};static#e=this.\u0275prov=r.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})()},1818:(S,C,a)=>{a.d(C,{Q:()=>c});var o=a(5879),r=a(6223),t=a(6814);function s(h,v){if(1&h){const m=o.EpF();o.TgZ(0,"li",2)(1,"a",7),o.NdJ("click",function(){const P=o.CHM(m).index,M=o.oxw();return o.KtG(M.navigateTo(P+1))}),o._uU(2),o.qZA()()}if(2&h){const m=v.index,p=o.oxw();o.ekj("active",p.currentPage===m+1),o.xp6(2),o.Oqu(m+1)}}const _=function(){return[]},g={provide:r.JU,useExisting:(0,o.Gpc)(()=>c),multi:!0};let c=(()=>{class h{constructor(){this.pageChange=new o.vpe}navigateTo(m){this.pageChange.emit(m),this.scrollToTop()}ngOnInit(){}scrollToTop(){window.scroll({top:0,left:0,behavior:"smooth"})}static#t=this.\u0275fac=function(p){return new(p||h)};static#e=this.\u0275cmp=o.Xpm({type:h,selectors:[["pagination"]],inputs:{currentPage:"currentPage",totalPages:"totalPages"},outputs:{pageChange:"pageChange"},standalone:!0,features:[o._Bn([g]),o.jDz],decls:11,vars:6,consts:[["aria-label","Page navigation"],[1,"pagination","justify-content-center"],[1,"page-item","mx-2"],["aria-label","Previous",1,"page-link",3,"click"],["aria-hidden","true"],["class","page-item mx-2",3,"active",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],[1,"page-link",3,"click"]],template:function(p,f){1&p&&(o.TgZ(0,"nav",0)(1,"ul",1)(2,"li",2)(3,"a",3),o.NdJ("click",function(){return f.navigateTo(f.currentPage-1)}),o.TgZ(4,"span",4),o._uU(5,"\xab"),o.qZA()()(),o.YNc(6,s,3,3,"li",5),o.TgZ(7,"li",2)(8,"a",6),o.NdJ("click",function(){return f.navigateTo(f.currentPage+1)}),o.TgZ(9,"span",4),o._uU(10,"\xbb"),o.qZA()()()()()),2&p&&(o.xp6(2),o.ekj("disabled",1===f.currentPage),o.xp6(4),o.Q6J("ngForOf",o.DdM(5,_).constructor(f.totalPages)),o.xp6(1),o.ekj("disabled",f.currentPage===f.totalPages))},dependencies:[t.ez,t.sg],styles:[".pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]{cursor:pointer}"]})}return h})()}}]);