"use strict";(self.webpackChunkITSP=self.webpackChunkITSP||[]).push([[235],{2135:(x,b,l)=>{l.d(b,{u:()=>d});var a=l(5879);let d=(()=>{class g{transform(C,m){return C?m?(m=m.toLowerCase(),C.filter(u=>{const t=u.full_name?u.full_name.toLowerCase():"",v=u.last_name?u.last_name.toLowerCase():"",p=u.title?u.title.toLowerCase():"",_=u.name?u.name.toLowerCase():"",h=u.user&&u.user.name?u.user.name.toLowerCase():"",A=u.head?u.head.toLowerCase():"",Z=u.description?u.description.toLowerCase():"";return t.includes(m)||v.includes(m)||_.includes(m)||h.includes(m)||A.includes(m)||Z.includes(m)||p.includes(m)})):C:[]}static#t=this.\u0275fac=function(m){return new(m||g)};static#e=this.\u0275pipe=a.Yjl({name:"filter",type:g,pure:!0,standalone:!0})}return g})()},5091:(x,b,l)=>{l.r(b),l.d(b,{default:()=>q});var a=l(6814),d=l(846),g=l(8733),n=l(6223),C=l(2135),m=l(1818),u=l(8034),t=l(5879),v=l(5401),p=l(7700);function _(s,f){1&s&&(t.TgZ(0,"div",27)(1,"p"),t._uU(2,"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a"),t.qZA()())}const h=function(s,f){return[s,f]};function A(s,f){if(1&s){const e=t.EpF();t.TgZ(0,"div",12)(1,"div",13)(2,"div",14)(3,"div",15)(4,"div",16)(5,"div",17),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.viewBlog(r))}),t.TgZ(6,"h4",18),t._uU(7),t.qZA()(),t.TgZ(8,"ul")(9,"li"),t._uU(10),t.qZA(),t.TgZ(11,"li"),t._uU(12),t.qZA(),t.TgZ(13,"li"),t._uU(14,"\u0627\u0644\u0645\u0624\u0633\u0633\u0629: \u0648\u0632\u0627\u0631\u0629 \u0627\u0644\u0635\u062d\u0629 \u0627\u0644\u0645\u0635\u0631\u064a\u0629"),t.qZA()(),t.TgZ(15,"div",19)(16,"a",20),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.viewBlog(r))}),t._UZ(17,"i",21),t.qZA(),t.TgZ(18,"a",22),t.ALo(19,"localize"),t._UZ(20,"i",23),t.qZA(),t.TgZ(21,"button",24),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.deleteBlog(r.id,r.title))}),t._UZ(22,"i",25),t.qZA()()()()()(),t.YNc(23,_,3,0,"div",26),t.ALo(24,"filter"),t.qZA()}if(2&s){const e=f.$implicit,o=t.oxw();t.xp6(7),t.hij(" ",e.title," "),t.xp6(3),t.hij("\u0627\u0644\u0642\u0633\u0645: ",e.type,""),t.xp6(2),t.hij("\u0627\u0644\u062a\u0627\u0631\u064a\u062e: ",e.date,""),t.xp6(6),t.Q6J("routerLink",t.WLB(10,h,t.lcZ(19,5,"/dashboard/blogs/add-blog"),e.id)),t.xp6(5),t.Q6J("ngIf",0===t.xi3(24,7,o.blogsList,o.searchQuery).length&&!o.loading)}}let Z=(()=>{class s{constructor(e,o,i,r){this.router=e,this.localize=o,this.bolgsService=i,this.dialog=r,this.loading=!1,this.blogsList=[],this.searchQuery=""}ngOnInit(){this.getBlogsList(),this.prepareNavBar()}prepareNavBar(){this.bolgsService.initializeNavItems()}getBlogsList(e=1){this.loading=!0,this.bolgsService.getBlogsList({page:e}).subscribe({next:o=>{this.currentPage=o.data.current_page,this.totalPages=o.data.last_page,this.blogsList=o.data.data,this.loading=!1}})}onPageChange(e){this.getBlogsList(e)}viewBlog(e){if(e){const o=this.localize.translateRoute("/dashboard/blogs/view-blog");this.router.navigate([o,e.id])}else console.error("No employee to view")}deleteBlog(e,o){this.dialog.open(u.$,{width:"500px",data:{title:"\u062a\u0627\u0643\u064a\u062f \u0627\u0644\u062d\u0630\u0641",message:`\u061f ${o} \u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641  `}}).afterClosed().subscribe(r=>{r&&this.bolgsService.DeleteBlog(e.toString()).subscribe({next:c=>{this.getBlogsList()},error:c=>{console.error("There was an error deleting the admin!",c)}})})}static#t=this.\u0275fac=function(o){return new(o||s)(t.Y36(d.F0),t.Y36(g.An),t.Y36(v.Q),t.Y36(p.uw))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-blogs-list"]],standalone:!0,features:[t.jDz],decls:14,vars:7,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","tabs","px-0"],[1,"mb-4","filterForm"],[1,"col-lg-7","mb-lg-2","mb-2"],[1,"input-group"],[1,"btn"],[1,"fa-solid","fa-magnifying-glass"],["type","search","name","search","id","search",1,"form-control",3,"ngModel","ngModelChange"],[1,"row","mx-0"],["class","col-md-6 mb-1",4,"ngFor","ngForOf"],[3,"currentPage","totalPages","pageChange"],[1,"col-md-6","mb-1"],[1,"card","mb-3","border-0"],[1,"row","g-0","align-items-center"],[1,"col-12"],[1,"card-body"],[2,"cursor","pointer",3,"click"],[1,"card-title"],[1,"col-12","text-end"],[1,"btn","show",3,"click"],[1,"fa-regular","fa-eye"],[1,"btn","mx-2","edit",3,"routerLink"],[1,"fa-regular","fa-pen-to-square"],[1,"btn","delete",3,"click"],[1,"fa-regular","fa-trash-can"],["class","text-center col-12",4,"ngIf"],[1,"text-center","col-12"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3)(4,"div",1)(5,"div",4)(6,"div",5)(7,"button",6),t._UZ(8,"i",7),t.qZA(),t.TgZ(9,"input",8),t.NdJ("ngModelChange",function(c){return i.searchQuery=c}),t.qZA()()()()(),t.TgZ(10,"div",9),t.YNc(11,A,25,13,"div",10),t.ALo(12,"filter"),t.qZA(),t.TgZ(13,"pagination",11),t.NdJ("pageChange",function(c){return i.onPageChange(c)}),t.qZA()()()()),2&o&&(t.xp6(9),t.Q6J("ngModel",i.searchQuery),t.xp6(2),t.Q6J("ngForOf",t.xi3(12,4,i.blogsList,i.searchQuery)),t.xp6(2),t.Q6J("currentPage",i.currentPage)("totalPages",i.totalPages))},dependencies:[a.ez,a.sg,a.O5,n.u5,n._Y,n.Fj,n.JJ,n.JL,n.On,n.F,C.u,d.Bz,d.rH,g.fQ,g.lO,m.Q],styles:[".tabs[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:0 3px 6px #0000001a;color:var(--dashboard1)}button.delete[_ngcontent-%COMP%]{background-color:var(--danger);color:#fff}a.show[_ngcontent-%COMP%]{background-color:var(--main);color:#fff}a.edit[_ngcontent-%COMP%]{background-color:var(--stroke-color2);color:var(--main)}.filterForm[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{border:1px solid var(--dashboard2);border-radius:8px}.filterForm[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--main)}.filterForm[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .filterForm[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus-visible, .filterForm[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus, .filterForm[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus-visible{box-shadow:none;outline:none}.filterForm[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{color:var(--main)}.filterForm[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#115a8b86}.filterForm[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border-color:var(--dashboard2);color:var(--dashboard1);background-image:url(chevron-Down.243768823842f8ab.svg);background-size:30px 100%;background-position:left 0px}"]})}return s})();var T=l(7728),M=l(4286),O=l(5123),B=l(9172);const F=["fileInput"];function L(s,f){if(1&s&&(t.TgZ(0,"option",49),t._uU(1),t.qZA()),2&s){const e=f.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.title," ")}}function w(s,f){if(1&s&&(t.TgZ(0,"option",49),t._uU(1),t.qZA()),2&s){const e=f.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function U(s,f){if(1&s&&(t.TgZ(0,"option",49),t._uU(1),t.qZA()),2&s){const e=f.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function y(s,f){if(1&s){const e=t.EpF();t.TgZ(0,"div",50)(1,"label",51)(2,"div",52),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.openInNewWindow(r.original))}),t._UZ(3,"app-truncate-text",53),t.qZA(),t.TgZ(4,"button",54),t.NdJ("click",function(){const r=t.CHM(e).index,c=t.oxw();return t.KtG(c.removeAttachment(r))}),t._UZ(5,"i",55),t.qZA()()()}if(2&s){const e=f.$implicit;t.xp6(3),t.Q6J("text",e.original)("limit",25)}}const I=function(s){return[s]};let P=(()=>{class s{constructor(e,o,i,r,c,S,Q,z){this.activatedRoute=e,this.blogsService=o,this.fb=i,this.localize=r,this.router=c,this._MessagesService=S,this.employeesService=Q,this.IMS=z,this.blogId="",this.isEditMode=!1,this.selectedFile=null,this.conversions=[],this.institutesList=[],this.categoriesList=[],this.employeesList=[],this.countriesList=[],this.attachments=[],this.addBlogForm=this.fb.group({title:["",n.kI.required],date:["",n.kI.required],descriptions:["",n.kI.required],type:["",n.kI.required],categories_id:["",n.kI.required],institutes_id:["",n.kI.required],countries_id:["",n.kI.required],attachment:[null]})}ngOnInit(){this.activatedRoute.paramMap.subscribe(e=>{const o=e.get("id");o&&(this.blogId=o,this.isEditMode=!0,this.blogsService.GetBlogById(o).subscribe(i=>{i&&i.data&&this.setFormValues(i.data)}))}),this.getCountriesList(),this.getCategoriesList(),this.getInstitutesList(),this.prepareNavBar()}prepareNavBar(){this.blogsService.initializeNavItems()}getEmployeesList(){this.employeesService.GetEmployeesList().subscribe({next:e=>{this.employeesList=e.data.data},error:e=>{console.error("Failed to get employees:",e)}})}getCategoriesList(){this.IMS.GetCategoriesList().subscribe({next:e=>{this.categoriesList=e.data.data},error:e=>{console.error("Failed to get categories:",e)}})}getCountriesList(){this.IMS.GetCountriesList().subscribe({next:e=>{this.countriesList=e.data.data},error:e=>{console.error("Failed to get countries:",e)}})}getInstitutesList(){this.IMS.GetInstituteList().subscribe({next:e=>{this.institutesList=e.data.data},error:e=>{console.error("Failed to get institutes:",e)}})}setFormValues(e){this.addBlogForm.patchValue({title:e.title||"",date:e.date||"",descriptions:e.descriptions||"",type:e.type||"",_method:e._method||"",categories_id:e.categories_id||"",institutes_id:e.institutes_id||"",countries_id:e.countries_id||""}),e.conversion_urls&&e.conversion_urls.forEach(o=>{this.conversions.push({original:o.original,conversions:o.conversions})})}openInNewWindow(e){window.open(e,"_blank")}onFileChange(e){const o=e.target.files[0];this.selectedFile=o,this.attachments.push({name:o.name,path:"",file:o}),this.conversions.push({original:o.name}),this.fileInput.nativeElement.value=""}removeAttachment(e){this.conversions.splice(e,1)}addBlog(){if(this.addBlogForm.valid){const o={...this.addBlogForm.value,attachment:this.attachments.map(i=>i.file).filter(i=>i instanceof File)};this.blogsService.AddBlog(o).subscribe({next:i=>{this._MessagesService.showSuccessMessage("\u062a\u0645 \u0625\u0636\u0627\u0641\u0629 \u0645\u0642\u0627\u0644",3e3),this.navigateToBlogsList()},error:i=>{console.error("Failed to edit blog:",i)}})}}updateBlog(){if(this.addBlogForm.valid){const i={...this.addBlogForm.value,_method:"PATCH",attachment:this.attachments.map(r=>r.file).filter(r=>r instanceof File)||[]};this.blogsService.UpdateBlog(this.blogId,i).subscribe({next:r=>{this._MessagesService.showSuccessMessage("\u062a\u0645 \u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0645\u0642\u0627\u0644",3e3),this.navigateToBlogsList()},error:r=>{console.error("Failed to edit admin:",r)}})}}navigateToBlogsList(){const e=this.localize.translateRoute("/dashboard/blogs");this.router.navigate([e])}navigateToAddBlog(){const e=this.localize.translateRoute("/dashboard/blogs/add-blog");this.router.navigate([e])}onSubmit(){this.addBlogForm.valid&&(this.isEditMode?this.updateBlog():this.addBlog())}static#t=this.\u0275fac=function(o){return new(o||s)(t.Y36(d.gz),t.Y36(v.Q),t.Y36(n.qu),t.Y36(g.An),t.Y36(d.F0),t.Y36(M.K),t.Y36(O.M),t.Y36(B.K))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-add-blog"]],viewQuery:function(o,i){if(1&o&&t.Gf(F,5),2&o){let r;t.iGM(r=t.CRH())&&(i.fileInput=r.first)}},standalone:!0,features:[t.jDz],decls:83,vars:11,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","tabs","px-0"],["id","pills-tabContent",1,"tab-content","p-3"],["id","addArticles","role","tabpanel","aria-labelledby","addArticles-tab","tabindex","0",1,"tab-pane","fade","show","active"],["action","",1,"addArticleForm",3,"formGroup","ngSubmit"],[1,"row","g-0"],[1,"col-md-3","p-2","text-center"],[1,"col-md-9"],[1,"card-body"],[1,"col-12","mb-3","text-end"],[1,"btn","px-4","back",3,"routerLink"],[1,"form-group","col-12","mb-3"],["for","articleName",1,"form-label"],["type","text","name","title","formControlName","title","value","\u0637\u0644\u0628\u062a \u0635\u0646\u0627\u0639\u0629 \u0627\u0644\u0645\u064a\u0644\u0627\u062a\u0648\u0646\u064a\u0646 \u062a\u0634\u062f\u064a\u062f \u0627\u0644\u0645\u0639\u0627\u064a\u064a\u0631 \u0637\u0648\u0639\u064b\u0627 \u0628\u0639\u062f \u0627\u0644\u0627\u0631\u062a\u0641\u0627\u0639 \u0627\u0644\u0643\u0628\u064a\u0631 \u0641\u064a \u0632\u064a\u0627\u0631\u0627\u062a \u0627\u0644\u0637\u0648\u0627\u0631\u0626 \u0644\u0644\u0623\u0637\u0641\u0627\u0644",1,"form-control","form-control-lg"],[1,"form-group","col-md-6","mb-3"],[1,"form-label"],["type","radio","name","type","formControlName","type","value","news","id","news","hidden",""],["for","news",1,"px-5","py-2","mx-2"],["type","radio","name","type","formControlName","type","value","laws","id","laws","checked","","hidden",""],["for","laws",1,"px-5","py-2"],["for","ArticleCategory",1,"form-label"],["name","categories_id","formControlName","categories_id","id","ArticleCategory",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["name","countries_id","formControlName","countries_id","id","ArticleCategory",1,"form-select"],["for","ArticleInistitute",1,"form-label"],["name","institutes_id","formControlName","institutes_id","id","ArticleInistitute",1,"form-select"],["for","ArticleDate",1,"form-label"],[1,"input-group"],["name","date","formControlName","date","type","date","id","ArticleDate","value","2024-05-25",1,"form-control"],["for","ArticleDate",1,"input-group-text"],[1,"fa-regular","fa-calendar"],["for","ArticleDescription",1,"form-label"],["name","descriptions","formControlName","descriptions","id","ArticleDescription","cols","30","rows","8",1,"form-control"],[1,"fw-normal"],[1,"row","g-2","attatchmentFiles"],["class","col-md-4 col-sm-6 col-12",4,"ngFor","ngForOf"],[1,"text-end","mb-2","addArticleAttachment"],[1,"btn"],[1,"fa-solid","fa-plus"],[1,"input-group-vertical"],["for","ArticleAttatchmentType0",1,"input-group-text"],["name","AttatchmentType[]","id","ArticleAttatchmentType0",1,"form-select"],["value","pdf"],["value","image"],["type","file","formControlName","attachment","name","attachment","id","uploadArticle0","hidden","",3,"change"],["fileInput",""],["for","uploadArticle0",1,"input-group-text","justify-content-center","py-5"],["type","submit",1,"btn","px-5",3,"disabled"],[3,"value"],[1,"col-md-4","col-sm-6","col-12"],[1,"d-flex","align-items-center","p-1","justify-content-between"],[2,"cursor","pointer",3,"click"],[3,"text","limit"],[1,"btn",3,"click"],[1,"fa-solid","fa-xmark"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"form",5),t.NdJ("ngSubmit",function(){return i.onSubmit()}),t.TgZ(6,"div",6),t._UZ(7,"div",7),t.TgZ(8,"div",8)(9,"div",9)(10,"div",1)(11,"div",10)(12,"a",11),t.ALo(13,"localize"),t._uU(14,"\u0631\u062c\u0648\u0639"),t.qZA()()()()()(),t.TgZ(15,"div",1)(16,"div",12)(17,"label",13),t._uU(18,"\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0645\u0642\u0627\u0644*"),t.qZA(),t._UZ(19,"input",14),t.qZA(),t.TgZ(20,"div",15)(21,"p",16),t._uU(22,"\u0627\u0644\u0646\u0648\u0639*"),t.qZA(),t._UZ(23,"input",17),t.TgZ(24,"label",18),t._uU(25,"\u0627\u062e\u0628\u0627\u0631"),t.qZA(),t._UZ(26,"input",19),t.TgZ(27,"label",20),t._uU(28,"\u0642\u0648\u0627\u0646\u064a\u0646"),t.qZA()(),t.TgZ(29,"div",15)(30,"label",21),t._uU(31,"\u0627\u0644\u0642\u0633\u0645*"),t.qZA(),t.TgZ(32,"select",22),t.YNc(33,L,2,2,"option",23),t.qZA()(),t.TgZ(34,"div",15)(35,"label",21),t._uU(36,"\u0627\u0644\u062f\u0648\u0644\u0629*"),t.qZA(),t.TgZ(37,"select",24),t.YNc(38,w,2,2,"option",23),t.qZA()(),t.TgZ(39,"div",15)(40,"label",25),t._uU(41,"\u0627\u0644\u0645\u0624\u0633\u0633\u0629*"),t.qZA(),t.TgZ(42,"select",26),t.YNc(43,U,2,2,"option",23),t.qZA()(),t.TgZ(44,"div",15)(45,"label",27),t._uU(46,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e*"),t.qZA(),t.TgZ(47,"div",28),t._UZ(48,"input",29),t.TgZ(49,"label",30),t._UZ(50,"i",31),t.qZA()()(),t.TgZ(51,"div",12)(52,"label",32),t._uU(53," \u0627\u0644\u0648\u0635\u0641* "),t.qZA(),t.TgZ(54,"textarea",33),t._uU(55,"                "),t.qZA()(),t.TgZ(56,"div",12)(57,"ul")(58,"li")(59,"h5",34),t._uU(60,"\u0627\u0644\u0645\u0644\u062d\u0642\u0627\u062a:"),t.qZA()()(),t.TgZ(61,"div",35),t.YNc(62,y,6,2,"div",36),t.qZA()(),t.TgZ(63,"div",12)(64,"div",37)(65,"button",38),t._UZ(66,"i",39),t.qZA()(),t.TgZ(67,"div",40)(68,"div",28)(69,"label",41),t._uU(70,"\u0646\u0648\u0639 \u0627\u0644\u0645\u0644\u062d\u0642"),t.qZA(),t.TgZ(71,"select",42)(72,"option",43),t._uU(73,"pdf"),t.qZA(),t.TgZ(74,"option",44),t._uU(75,"image"),t.qZA()()(),t.TgZ(76,"input",45,46),t.NdJ("change",function(c){return i.onFileChange(c)}),t.qZA(),t.TgZ(78,"label",47),t._uU(79," \u0627\u062e\u062a\u0631 \u0627\u0644\u0645\u0644\u0641 \u0645\u0646 \u062c\u0647\u0627\u0632\u0643"),t.qZA()()(),t.TgZ(80,"div",12)(81,"button",48),t._uU(82," \u062d\u0641\u0638 "),t.qZA()()()()()()()()()),2&o&&(t.xp6(5),t.Q6J("formGroup",i.addBlogForm),t.xp6(7),t.Q6J("routerLink",t.VKq(9,I,t.lcZ(13,7,"/dashboard/blogs"))),t.xp6(21),t.Q6J("ngForOf",i.categoriesList),t.xp6(5),t.Q6J("ngForOf",i.countriesList),t.xp6(5),t.Q6J("ngForOf",i.institutesList),t.xp6(19),t.Q6J("ngForOf",i.conversions),t.xp6(19),t.Q6J("disabled",i.addBlogForm.invalid))},dependencies:[a.ez,a.sg,d.Bz,d.rH,g.fQ,g.lO,n.u5,n._Y,n.YN,n.Kr,n.Fj,n.EJ,n._,n.JJ,n.JL,n.UX,n.sg,n.u,T.H],styles:[".tab-content[_ngcontent-%COMP%]{border-radius:4px}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--dashboard1)}form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus-visible, form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus, form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus-visible{box-shadow:none;outline:none}form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-color:var(--main);color:#115a8b}form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]::placeholder{color:#115a8b86}form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border-color:var(--main);color:var(--dashboard1);background-image:url(chevron-Down.243768823842f8ab.svg);background-size:30px 100%;background-position:left 0px}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:var(--main);color:#fff}form[_ngcontent-%COMP%]   .input-group-vertical[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%] + .input-group-text[_ngcontent-%COMP%]{color:var(--dashboard1);background-color:transparent;border:none}"]})}return s})();function E(s,f){if(1&s){const e=t.EpF();t.TgZ(0,"div",25)(1,"label",26)(2,"div",27),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.openInNewWindow(r.originalPath))}),t._UZ(3,"app-truncate-text",20),t.qZA(),t.TgZ(4,"button",28),t._UZ(5,"i",29),t.qZA()()()}if(2&s){const e=f.$implicit;t.xp6(3),t.Q6J("text",e.originalPath)("limit",25)}}const N=function(s,f){return[s,f]};function D(s,f){if(1&s){const e=t.EpF();t.TgZ(0,"div",5)(1,"div",6)(2,"div",7),t._UZ(3,"img",8),t.qZA(),t.TgZ(4,"div",9)(5,"div",10)(6,"div",1)(7,"div",11)(8,"h4",12),t._uU(9),t.qZA()(),t.TgZ(10,"div",13)(11,"a",14),t.ALo(12,"localize"),t._uU(13,"\u062a\u0639\u062f\u064a\u0644 "),t._UZ(14,"i",15),t.qZA(),t.TgZ(15,"button",16),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.deleteBlog(i.blog.id,i.blog.title))}),t._uU(16," \u062d\u0630\u0641 "),t._UZ(17,"i",17),t.qZA()()(),t.TgZ(18,"div",18)(19,"ul")(20,"li"),t._uU(21),t.qZA(),t.TgZ(22,"li"),t._uU(23),t.qZA(),t.TgZ(24,"li"),t._uU(25,"\u0627\u0644\u0645\u0624\u0633\u0633\u0629: \u0648\u0632\u0627\u0631\u0629 \u0627\u0644\u0635\u062d\u0629 \u0627\u0644\u0645\u0635\u0631\u064a\u0629"),t.qZA()()()()(),t.TgZ(26,"div",19),t._UZ(27,"app-truncate-text",20),t.qZA(),t.TgZ(28,"div",21)(29,"ul")(30,"li")(31,"h5",22),t._uU(32,"\u0627\u0644\u0645\u0644\u062d\u0642\u0627\u062a:"),t.qZA()()(),t.TgZ(33,"div",23),t.YNc(34,E,6,2,"div",24),t.qZA()()()()}if(2&s){const e=t.oxw();t.xp6(9),t.hij(" ",e.blog.title," "),t.xp6(2),t.Q6J("routerLink",t.WLB(9,N,t.lcZ(12,7,"/dashboard/blogs/add-blog"),e.blog.id)),t.xp6(10),t.hij("\u0627\u0644\u0642\u0633\u0645: ",e.blog.type,""),t.xp6(2),t.hij("\u0627\u0644\u062a\u0627\u0631\u064a\u062e: ",e.blog.date,""),t.xp6(4),t.Q6J("text",e.blog.descriptions)("limit",2e3),t.xp6(7),t.Q6J("ngForOf",e.attachments)}}function J(s,f){1&s&&(t.TgZ(0,"div",30)(1,"p"),t._uU(2,"\u0644\u0627 \u064a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a"),t.qZA()())}const q=[{path:"",component:(()=>{class s{static#t=this.\u0275fac=function(o){return new(o||s)};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-main-blogs"]],standalone:!0,features:[t.jDz],decls:1,vars:0,template:function(o,i){1&o&&t._UZ(0,"router-outlet")},dependencies:[a.ez,d.lC]})}return s})(),children:[{path:"",component:Z},{path:":slug",component:P,data:{breadcrumbs:[{label:" \u0625\u0636\u0627\u0641\u0629 \u0645\u0642\u0627\u0644",url:"/dashboard//blogs/add-blog"}]}},{path:"add-blog/:id",component:P,data:{breadcrumbs:[{label:" \u062a\u0639\u062f\u064a\u0644 \u0645\u0642\u0627\u0644",url:""}]}},{path:"view-blog/:id",component:(()=>{class s{constructor(e,o,i,r,c){this.router=e,this.localize=o,this.bolgsService=i,this.dialog=r,this.activatedRoute=c,this.blogId="",this.attachments=[]}ngOnInit(){this.activatedRoute.paramMap.subscribe(e=>{const o=e.get("id");o&&(this.blogId=o,this.bolgsService.GetBlogById(o).subscribe(i=>{i&&i.data&&(this.blog=i.data,this.blog.conversion_urls&&this.blog.conversion_urls.forEach(r=>{this.attachments.push({originalPath:r.original,conversions:r.conversions})}))}))})}deleteBlog(e,o){this.dialog.open(u.$,{width:"500px",data:{title:"\u062a\u0627\u0643\u064a\u062f \u0627\u0644\u062d\u0630\u0641",message:`\u061f ${o} \u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641  `}}).afterClosed().subscribe(r=>{r&&this.bolgsService.DeleteBlog(e.toString()).subscribe({next:c=>{this.navigateToBlogsList()},error:c=>{console.error("There was an error deleting the admin!",c)}})})}removeAttachment(e){this.attachments.splice(e,1)}openInNewWindow(e){window.open(e,"_blank")}navigateToBlogsList(){const e=this.localize.translateRoute("/dashboard/blogs");this.router.navigate([e])}static#t=this.\u0275fac=function(o){return new(o||s)(t.Y36(d.F0),t.Y36(g.An),t.Y36(v.Q),t.Y36(p.uw),t.Y36(d.gz))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-view-blog"]],standalone:!0,features:[t.jDz],decls:5,vars:2,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","tabs","px-0"],["class","card mb-3 p-2 border-0",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card","mb-3","p-2","border-0"],[1,"row","g-0"],[1,"col-md-3","p-2","text-center"],["src","./assets/images/articleImage.png","alt","Article Image",1,"img-fluid"],[1,"col-md-9","mb-2"],[1,"card-body"],[1,"col-md-6","order-md-1","order-2"],[1,"card-title"],[1,"col-md-6","order-md-2","order-1","mb-md-0","mb-2","text-end"],[1,"btn","mx-2","px-4","edit",3,"routerLink"],[1,"fa-regular","fa-pen-to-square"],[1,"btn","delete","px-4",3,"click"],[1,"fa-regular","fa-trash-can"],[1,""],[1,"description","padd","mb-2"],[3,"text","limit"],[1,"form-group","padd","col-12","mb-3"],[1,"fw-normal"],[1,"row","g-2","attatchmentFiles"],["class","col-md-4 col-sm-6 col-12",4,"ngFor","ngForOf"],[1,"col-md-4","col-sm-6","col-12"],[1,"d-flex","align-items-center","p-1","justify-content-between"],[2,"cursor","pointer",3,"click"],[1,"btn"],[1,"fa-solid","fa-download"],[1,"text-center"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t.YNc(3,D,35,12,"div",3),t.YNc(4,J,3,0,"div",4),t.qZA()()()),2&o&&(t.xp6(3),t.Q6J("ngIf",i.blog),t.xp6(1),t.Q6J("ngIf",!i.blog))},dependencies:[a.ez,a.sg,a.O5,d.Bz,d.rH,g.fQ,g.lO,T.H],styles:[".padd[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}a.edit[_ngcontent-%COMP%]{background-color:var(--stroke-color2);color:var(--main)}button.delete[_ngcontent-%COMP%]{background:var(--danger);color:#fff}.card[_ngcontent-%COMP%]{box-shadow:0 5px 14px #0000000d;color:var(--main)}.attatchmentFiles[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{background-color:var(--dashboard2);color:#fff;border-radius:10px}.attatchmentFiles[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;color:var(--dashboard2)}"]})}return s})()}]}]},8034:(x,b,l)=>{l.d(b,{$:()=>m});var a=l(6814),d=l(7700),g=l(2296),n=l(5879),C=l(4286);let m=(()=>{class u{constructor(v,p,_){this.dialogRef=v,this.data=p,this._MessagesService=_}onConfirmClick(){this.dialogRef.close(!0),this._MessagesService.showSuccessMessage("Done",3e3)}onCancelClick(){this.dialogRef.close(!1)}static#t=this.\u0275fac=function(p){return new(p||u)(n.Y36(d.so),n.Y36(d.WI),n.Y36(C.K))};static#e=this.\u0275cmp=n.Xpm({type:u,selectors:[["app-confirm-dialog"]],standalone:!0,features:[n.jDz],decls:10,vars:2,consts:[[1,"text-center"],["mat-dialog-title","",1,"text-center"],[1,"m-auto"],["mat-button","",3,"click"],["mat-button","","olor","primary",2,"color","red",3,"click"]],template:function(p,_){1&p&&(n.TgZ(0,"div",0)(1,"h2",1),n._uU(2),n.qZA(),n.TgZ(3,"mat-dialog-content"),n._uU(4),n.qZA(),n.TgZ(5,"mat-dialog-actions",2)(6,"button",3),n.NdJ("click",function(){return _.onCancelClick()}),n._uU(7,"\u0627\u0644\u063a\u0627\u0621"),n.qZA(),n.TgZ(8,"button",4),n.NdJ("click",function(){return _.onConfirmClick()}),n._uU(9," \u062a\u0627\u0643\u064a\u062f "),n.qZA()()()),2&p&&(n.xp6(2),n.Oqu(_.data.title),n.xp6(2),n.Oqu(_.data.message))},dependencies:[a.ez,d.Is,d.uh,d.xY,d.H8,g.ot,g.lW],styles:["mat-dialog-content[_ngcontent-%COMP%]{font-size:16px;margin-bottom:20px}mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:center}mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}"]})}return u})()},6996:(x,b,l)=>{l.d(b,{f:()=>g});var a=l(5619),d=l(5879);let g=(()=>{class n{constructor(){this.navItemsSubject=new a.X([]),this.navItems$=this.navItemsSubject.asObservable()}setNavItems(m){this.navItemsSubject.next(m)}static#t=this.\u0275fac=function(u){return new(u||n)};static#e=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})()},1818:(x,b,l)=>{l.d(b,{Q:()=>u});var a=l(5879),d=l(6223),g=l(6814);function n(t,v){if(1&t){const p=a.EpF();a.TgZ(0,"li",2)(1,"a",7),a.NdJ("click",function(){const A=a.CHM(p).index,Z=a.oxw();return a.KtG(Z.navigateTo(A+1))}),a._uU(2),a.qZA()()}if(2&t){const p=v.index,_=a.oxw();a.ekj("active",_.currentPage===p+1),a.xp6(2),a.Oqu(p+1)}}const C=function(){return[]},m={provide:d.JU,useExisting:(0,a.Gpc)(()=>u),multi:!0};let u=(()=>{class t{constructor(){this.pageChange=new a.vpe}navigateTo(p){this.pageChange.emit(p),this.scrollToTop()}ngOnInit(){}scrollToTop(){window.scroll({top:0,left:0,behavior:"smooth"})}static#t=this.\u0275fac=function(_){return new(_||t)};static#e=this.\u0275cmp=a.Xpm({type:t,selectors:[["pagination"]],inputs:{currentPage:"currentPage",totalPages:"totalPages"},outputs:{pageChange:"pageChange"},standalone:!0,features:[a._Bn([m]),a.jDz],decls:11,vars:6,consts:[["aria-label","Page navigation"],[1,"pagination","justify-content-center"],[1,"page-item","mx-2"],["aria-label","Previous",1,"page-link",3,"click"],["aria-hidden","true"],["class","page-item mx-2",3,"active",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],[1,"page-link",3,"click"]],template:function(_,h){1&_&&(a.TgZ(0,"nav",0)(1,"ul",1)(2,"li",2)(3,"a",3),a.NdJ("click",function(){return h.navigateTo(h.currentPage-1)}),a.TgZ(4,"span",4),a._uU(5,"\xab"),a.qZA()()(),a.YNc(6,n,3,3,"li",5),a.TgZ(7,"li",2)(8,"a",6),a.NdJ("click",function(){return h.navigateTo(h.currentPage+1)}),a.TgZ(9,"span",4),a._uU(10,"\xbb"),a.qZA()()()()()),2&_&&(a.xp6(2),a.ekj("disabled",1===h.currentPage),a.xp6(4),a.Q6J("ngForOf",a.DdM(5,C).constructor(h.totalPages)),a.xp6(1),a.ekj("disabled",h.currentPage===h.totalPages))},dependencies:[g.ez,g.sg],styles:[".pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]{cursor:pointer}"]})}return t})()}}]);